<?xml version="1.0" encoding="utf-8" ?>
<odoo noupdate="1">
    <!-- Decimal Precision -->
    <record forcecreate="True" id="decimal_payroll" model="decimal.precision">
        <field name="name">Payroll</field>
        <field name="digits">2</field>
    </record>
    <record forcecreate="True" id="decimal_payroll_rate" model="decimal.precision">
        <field name="name">Payroll Rate</field>
        <field name="digits">4</field>
    </record>
        <!---Estructuras Salariales-->
        <record id="BASIC" model="hr.salary.rule.category">
            <field name="name">Basic</field>
            <field name="code">BASIC</field>
        </record>

        <record id="ALW" model="hr.salary.rule.category">
            <field name="name">Allowance</field>
            <field name="code">ALW</field>
        </record>

        <record id="GROSS" model="hr.salary.rule.category">
            <field name="name">Gross</field>
            <field name="code">GROSS</field>
        </record>

        <record id="DED" model="hr.salary.rule.category">
            <field name="name">Deduction</field>
            <field name="code">DED</field>
        </record>

        <record id="NET" model="hr.salary.rule.category">
            <field name="name">Net</field>
            <field name="code">NET</field>
        </record>

        <record id="COMP" model="hr.salary.rule.category">
            <field name="name">Company Contribution</field>
            <field name="code">COMP</field>
        </record>

        <record id="hr_salary_rule_category_otros" model="hr.salary.rule.category">
            <field name="name">Otros</field>
            <field name="code">OTROS</field>
        </record>

      <!-- Structure Type -->
        <record id="structure_type_employee" model="hr.payroll.structure.type">
            <field name="name">Employee</field>
        </record>
        <record id="structure_type_worker" model="hr.payroll.structure.type">
            <field name="name">Worker</field>
        </record>
        <!--Default structure -->
        <record id="default_structure" model="hr.payroll.structure">
            <field name="name">Default Structure Rules Set</field>
            <field name="type_id" ref="payroll.structure_type_employee"/>
            <field name="active">False</field>
        </record>

         <!--default salary rules -->
        <record id="default_basic_salary_rule" model="hr.salary.rule">
            <field name="category_id" ref="payroll.BASIC"/>
            <field name="name">Basic Salary</field>
            <field name="sequence">1</field>
            <field name="code">BASIC</field>
            <field name="condition_select">none</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">result = contract.wage or 0</field>
            <field name="struct_id" ref="payroll.default_structure"/>
        </record>

        <record id="hr_payroll_rules_work100" model="hr.salary.rule">
            <field name="category_id" ref="hr_salary_rule_category_otros"/>
            <field name="name">Worked days</field>
            <field name="code">WORK100</field>
            <field name="sequence">2</field>
            <field name="amount_select">code</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">result = worked_days.WORK100.number_of_days or 0 </field>
        </record>

<!--        <record id="hr_payroll_rules_09_vacaciones" model="hr.salary.rule">-->
<!--            <field name="category_id" ref="hr_salary_rule_category_provisiones_prestaciones_company"/>-->
<!--            <field name="name">Provisiones vacaciones</field>-->
<!--            <field name="code">PROVISIONES_VACACIONES</field>-->
<!--            <field name="sequence">9</field>-->
<!--            <field name="amount_select">code</field>-->
<!--            <field name="amount_python_compute"> result = GROSS and (GROSS * 0.0909) or 0 </field>-->
<!--            <field name="appears_on_payslip" eval="True"/>-->
<!--            <field name="register_id" ref="contrib_register_mipyme"/>-->
<!--        </record>-->

<!--        <record id="hr_payroll_rules_Holiday" model="hr.salary.rule">-->
<!--            <field name="category_id" ref="ALW"/>-->
<!--            <field name="name">Holiday allowance</field>-->
<!--            <field name="code">ALLOW</field>-->
<!--            <field name="sequence">6</field>-->
<!--            <field name="condition_select">python</field>-->
<!--            <field name="amount_select">code</field>-->
<!--           <field name="amount_python_compute">result = GROSS and (GROSS * 0.0909) or 0 </field>-->
<!--            <field name="appears_on_payslip" eval="True"/>-->
<!--        </record>-->

        <record id="hr_payroll_rules_navidad" model="hr.salary.rule">
            <field name="category_id" ref="ALW"/>
            <field name="name">PAGA NAVIDAD</field>
            <field name="code">PN</field>
            <field name="sequence">7</field>
            <field name="condition_select">python</field>
            <field name="condition_python">result = inputs.PN and inputs.PN.amount </field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">result = inputs.PN and inputs.PN.amount or 0 </field>
            <field name="appears_on_payslip" eval="True"/>
            <field name="input_ids" eval="[(5, 0, 0), (0,0, { 'name': 'PAGA NAVIDAD', 'code': 'PN', }) ]"/>
        </record>


        <record id="default_gross_salary_rule" model="hr.salary.rule">
            <field name="category_id" ref="payroll.GROSS"/>
            <field name="name">GROSS</field>
            <field name="sequence">100</field>
            <field name="code">GROSS</field>
            <field name="condition_select">none</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">result = categories.BASIC + categories.ALW</field>
            <field name="struct_id" ref="payroll.default_structure"/>
        </record>

 <!--discount salary rules -->
<!--        <record id="hr_payroll_rules_ss_social_security" model="hr.salary.rule">-->
<!--            <field name="category_id" ref="DED"/>-->
<!--            <field name="name">Social Security</field>-->
<!--            <field name="code">SS</field>-->
<!--            <field name="sequence">41</field>-->
<!--            <field name="amount_select">code</field>-->
<!--            <field name="amount_python_compute">result = GROSS and (GROSS * 0.125) or 0 </field>-->
<!--            <field name="appears_on_payslip" eval="True"/>-->
<!--        </record>-->

        <record id="hr_payroll_rules_cotizacion_cc" model="hr.salary.rule">
            <field name="category_id" ref="DED"/>
            <field name="name">COTIZACION CON. COMU</field>
            <field name="code">CC</field>
            <field name="sequence">102</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">result = GROSS and (GROSS * 0.0482) or 0 </field>
            <field name="appears_on_payslip" eval="True"/>
        </record>

        <record id="hr_payroll_rules_scotizacion_cf" model="hr.salary.rule">
            <field name="category_id" ref="DED"/>
            <field name="name">COTIZACION FORMACION</field>
            <field name="code">CF</field>
            <field name="sequence">103</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">result = GROSS and (GROSS * 0.010) or 0 </field>
            <field name="appears_on_payslip" eval="True"/>
        </record>

        <record id="hr_payroll_rules_cotizacion_desempleo" model="hr.salary.rule">
            <field name="category_id" ref="DED"/>
            <field name="name">COTIZACION DESEMPLEO</field>
            <field name="code">CD</field>
            <field name="sequence">105</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">result = GROSS and (GROSS * 0.0155) or 0 </field>
            <field name="appears_on_payslip" eval="True"/>
        </record>

        <record id="hr_payroll_rules_tributacion" model="hr.salary.rule">
            <field name="category_id" ref="DED"/>
            <field name="name">TRIBUTACION I.R.P.F</field>
            <field name="code">TRIBU</field>
            <field name="sequence">104</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">result = GROSS and (GROSS * 0.0859) or 0 </field>
            <field name="appears_on_payslip" eval="True"/>
        </record>

        <record id="default_net_salary" model="hr.salary.rule">
            <field name="category_id" ref="payroll.NET"/>
            <field name="name">Net Salary</field>
            <field name="sequence">200</field>
            <field name="code">NET</field>
            <field name="appears_on_employee_cost_dashboard">True</field>
            <field name="condition_select">none</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">result = categories.BASIC + categories.ALW - categories.DED  </field>
            <field name="struct_id" ref="payroll.default_structure"/>
        </record>

     <!--otross -->

        <record id="hr_payroll_rules_verano" model="hr.salary.rule">
            <field name="category_id" ref="ALW"/>
            <field name="name">PAGA VERANO</field>
            <field name="code">PV</field>
            <field name="sequence">60</field>
            <field name="condition_select">python</field>
            <field name="condition_python">result = inputs.PV and inputs.PV.amount </field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">result = inputs.PV and inputs.PV.amount or 0 </field>
            <field name="appears_on_payslip" eval="True"/>
            <field name="input_ids" eval="[(5, 0, 0), (0,0, { 'name': 'PAGA VERANO', 'code': 'PV', }) ]"/>
        </record>





    <!--  Salary Structure  -->
        <record id="structure_base" model="hr.payroll.structure">
            <field name="code">BASE</field>
            <field name="name">Base for new structures</field>
            <field eval="[(6, 0, [ref('default_basic_salary_rule'), ref('hr_payroll_rules_work100'), ref('default_gross_salary_rule'),ref('default_net_salary')])]" name="rule_ids"/>
            <field name="company_id" ref="base.main_company"/>
        </record>



    <!--  Estructuras salariales -->

        <record id="hr_payroll_salary_specific_operations" model="hr.payroll.structure">
            <field name="name">Operativos Indeterminados</field>
            <field name="code">OPERATIVAS</field>
            <field name="parent_id" ref="payroll.structure_base"/>
            <field name="rule_ids" eval="[(6, 0, [ ref('default_basic_salary_rule'), ref('hr_payroll_rules_cotizacion_cc'), ref('hr_payroll_rules_scotizacion_cf'), ref('hr_payroll_rules_cotizacion_desempleo'),ref('hr_payroll_rules_tributacion'),ref('hr_payroll_rules_navidad'),
            ref('hr_payroll_rules_verano'), ])]"/>
            <field name="company_id" ref="base.main_company"/>
        </record>


<!--        <record id="hr_payroll_salary_structure_christmas_allowance" model="hr.payroll.structure">-->
<!--            <field name="name">christmas allowance</field>-->
<!--            <field name="code">christmas_allowance</field>-->
<!--            <field name="parent_id" ref="payroll.hr_payroll_salary_specific_operations"/>-->
<!--            <field name="rule_ids" eval="[(6, 0, [ ref('hr_payroll_rules_christmas'), ])]"/>-->
<!--            <field name="company_id" ref="base.main_company"/>-->
<!--        </record>-->





</odoo>
